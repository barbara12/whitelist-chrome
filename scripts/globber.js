((function(){var a,b,c;c=typeof exports!="undefined"&&exports!==null?exports:this,a=function(){function a(c,d){var e,f,g,h,i,j,k;d==null&&(d=a.DEFAULT_MASK),f=(d&a.CASE_INSENSITIVE_MASK)!==0,j=(d&a.STAR_CANNOT_MATCH_ZERO_MASK)!==0,i=(d&a.QUESTION_CAN_MATCH_ZERO_MASK)!==0,e=new b,h=!1;for(g=0,k=c.length;0<=k?g<k:g>k;0<=k?g++:g--)switch(c[g]){case"*":h?e.append("*"):e.append(j?".+":".*");break;case"?":h?e.append("?"):e.append(i?".?":".");break;case"[":h=!0,e.append(c[g]);if(g+1<c.length)switch(c[g+1]){case"!":case"^":e.append("^"),g++;break;case"]":e.append("]"),g++}break;case"]":h=!1,e.append(c[g]);break;case"\\":e.append("\\"),g===c.length-1?e.append("\\"):this.__isGlobMetaCharacter(c[g+1])?e.append(c[++g]):e.append("\\");break;default:!h&&this.__isRegExpMetaCharacter(c[g])&&e.append("\\"),e.append(c[g])}this.regexp=e.toString(),c.match(/^[^.*]+\.[^.]+$/)&&(this.regexp="(.+\\.)?"+this.regexp),this.regexp="^"+this.regexp+"$",this.mods="",f&&(this.mods+=a.CASE_INSENSITIVE_MOD)}return a.prototype.__isGlobMetaCharacter=function(a){return"*?[]".indexOf(a)>=0},a.prototype.__isRegExpMetaCharacter=function(a){return"'*?+[]()|^$.{}/\\".indexOf(a)>=0},a.prototype.compile=function(){return new RegExp(this.regexp,this.mods)},a.prototype.toString=function(){return"/"+this.regexp+"/"+this.mods},a}(),a.CASE_INSENSITIVE_MASK=1,a.STAR_CANNOT_MATCH_ZERO_MASK=2,a.QUESTION_CAN_MATCH_ZERO_MASK=3,a.DEFAULT_MASK=a.CASE_INSENSITIVE_MASK,a.CASE_INSENSITIVE_MOD="i",b=function(){function a(){this.buffer=[]}return a.prototype.append=function(a){return this.buffer.push(a),this.buffer},a.prototype.toString=function(){return this.buffer.join("")},a}(),c.Globber=a})).call(this);